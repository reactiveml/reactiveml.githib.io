<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN">
<!-- Created by htmlize-1.47 in css mode. -->
<html>
  <head>
    <title>lco_interpreter.mli</title>
    <style type="text/css">
    <!--
      body {
        color: #000000;
        background-color: #ffffff;
      }
      .comment {
        /* font-lock-comment-face */
        color: #b22222;
      }
      .function-name {
        /* font-lock-function-name-face */
        color: #0000ff;
      }
      .tuareg-font-lock-governing {
        /* tuareg-font-lock-governing-face */
        color: #0000ff;
        font-weight: bold;
      }
      .tuareg-font-lock-operator {
        /* tuareg-font-lock-operator-face */
        color: #a52a2a;
      }
      .type {
        /* font-lock-type-face */
        color: #228b22;
      }
      .variable-name {
        /* font-lock-variable-name-face */
        color: #a0522d;
      }

      a {
        color: inherit;
        background-color: inherit;
        font: inherit;
        text-decoration: inherit;
      }
      a:hover {
        text-decoration: underline;
      }
    -->
    </style>
  </head>
  <body>
    <pre>
<span class="comment">(**********************************************************************)</span>
<span class="comment">(*                                                                    *)</span>
<span class="comment">(*                           ReactiveML                               *)</span>
<span class="comment">(*                    http://reactiveML.org                           *)</span>
<span class="comment">(*                    http://rml.inria.fr                             *)</span>
<span class="comment">(*                                                                    *)</span>
<span class="comment">(*                          Louis Mandel                              *)</span>
<span class="comment">(*                                                                    *)</span>
<span class="comment">(*  Copyright 2002, 2007 Louis Mandel.  All rights reserved.          *)</span>
<span class="comment">(*  This file is distributed under the terms of the GNU Library       *)</span>
<span class="comment">(*  General Public License, with the special exception on linking     *)</span>
<span class="comment">(*  described in file ../LICENSE.                                     *)</span>
<span class="comment">(*                                                                    *)</span>
<span class="comment">(*  ReactiveML has been done in the following labs:                   *)</span>
<span class="comment">(*  - theme SPI, Laboratoire d'Informatique de Paris 6 (2002-2005)    *)</span>
<span class="comment">(*  - Verimag, CNRS Grenoble (2005-2006)                              *)</span>
<span class="comment">(*  - projet Moscova, INRIA Rocquencourt (2006-2007)                  *)</span>
<span class="comment">(*                                                                    *)</span>
<span class="comment">(**********************************************************************)</span>

<span class="comment">(* file: lco_interpreter.mli *)</span>
<span class="comment">(* author: Louis Mandel *)</span>
<span class="comment">(* created: 2004-06-04  *)</span>
<span class="tuareg-font-lock-governing">open</span> <span class="type">Runtime</span>

<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">LCO_RUNTIME </span><span class="tuareg-font-lock-operator">=</span>
  <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">clock</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">region</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">clock_domain</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> event</span>
    <span class="tuareg-font-lock-governing">type</span> <span class="type">event_cfg</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">react </span><span class="tuareg-font-lock-operator">:</span> <span class="type">clock_domain </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">on_current_instant </span><span class="tuareg-font-lock-operator">:</span> <span class="type">clock_domain </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit step </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span>
  <span class="tuareg-font-lock-governing">end</span>

<span class="tuareg-font-lock-governing">module</span> <span class="tuareg-font-lock-governing">type</span> <span class="type">S </span><span class="tuareg-font-lock-operator">=</span>
  <span class="tuareg-font-lock-governing">sig</span>
    <span class="tuareg-font-lock-governing">module</span> <span class="type">R </span><span class="tuareg-font-lock-operator">:</span> <span class="type">LCO_RUNTIME</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span>
    <span class="tuareg-font-lock-governing">and</span> <span class="tuareg-font-lock-operator">'</span><span class="function-name">a</span><span class="variable-name"> process</span>
    <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">clock_expr </span><span class="tuareg-font-lock-operator">=</span> <span class="type">R</span>.clock <span class="type">Rml_types</span>.clock
    <span class="tuareg-font-lock-governing">and</span> <span class="variable-name">region_expr </span><span class="tuareg-font-lock-operator">=</span> clock_expr
    <span class="tuareg-font-lock-governing">type</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a memory</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_make</span><span class="tuareg-font-lock-operator">:</span> <span class="type">R.clock_domain </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a option </span><span class="tuareg-font-lock-operator">ref</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a process </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit step</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_make_n</span><span class="tuareg-font-lock-operator">:</span> <span class="type">R.clock_domain </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a option </span><span class="tuareg-font-lock-operator">ref</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a process list </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit step list</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_pre_status</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_pre_value</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_last</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_default</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_clock </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> clock_expr</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_expr_emit</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_expr_emit_val</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_global_signal</span><span class="tuareg-font-lock-operator">:</span> <span class="type">Rml_types.signal_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a list</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_global_signal_combine</span><span class="tuareg-font-lock-operator">:</span> <span class="type">Rml_types.signal_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event</span>

    <span class="tuareg-font-lock-governing">type</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">=</span> unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="type">R</span>.event_cfg
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">cfg_present</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> event_cfg_gen</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">cfg_present</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> event_cfg_gen
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">cfg_and</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> event_cfg_gen</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">cfg_or</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> event_cfg_gen</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_nothing</span><span class="tuareg-font-lock-operator">:</span> <span class="type">unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_compute</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_pause </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> clock_expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_pause</span><span class="tuareg-font-lock-operator">'</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">clock_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_weak_pause </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> clock_expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_weak_pause</span><span class="tuareg-font-lock-operator">'</span><span class="variable-name"> </span><span class="tuareg-font-lock-operator">:</span> <span class="type">clock_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_halt</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_emit</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_emit</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(</span>unit<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_emit_val</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_emit_val</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>a<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_get</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_conf</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_immediate</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_immediate</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_immediate_conf</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_all</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_all</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_all_match</span><span class="tuareg-font-lock-operator">':</span>
        <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_all_match</span><span class="tuareg-font-lock-operator">:</span>
        <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> bool<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_one</span><span class="tuareg-font-lock-operator">':</span>
        <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a list</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_one</span><span class="tuareg-font-lock-operator">:</span>
        <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>a list<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_immediate_one</span><span class="tuareg-font-lock-operator">':</span>
        <span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a list</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_await_immediate_one</span><span class="tuareg-font-lock-operator">:</span>
        <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>a list<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_present</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_present</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_present_conf</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_seq</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_par</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_loop</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_loop_n</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_while</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_for</span><span class="tuareg-font-lock-operator">:</span>
        <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">int </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span>
          unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_fordopar</span><span class="tuareg-font-lock-operator">:</span>
        <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">int </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span>
          unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_signal</span><span class="tuareg-font-lock-operator">:</span>
      <span class="type">Rml_types.signal_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> clock_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> region_expr </span><span class="tuareg-font-lock-operator">-&gt;</span>
      clock_expr option <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>a list<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_signal_combine</span><span class="tuareg-font-lock-operator">:</span>
      <span class="type">Rml_types.signal_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> clock_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> region_expr </span><span class="tuareg-font-lock-operator">-&gt;</span>
      <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">))</span> <span class="tuareg-font-lock-operator">-&gt;</span>
      clock_expr option <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">(('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_def</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_def_dyn</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span>
<span class="comment">(*    val rml_def_and_dyn: expr array -&gt; (value array -&gt; expr) -&gt; expr *)</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_match</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_run</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a process</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until</span><span class="tuareg-font-lock-operator">':</span> <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until</span><span class="tuareg-font-lock-operator">:</span> <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> unit expr <span class="tuareg-font-lock-operator">-&gt;</span> unit expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until_conf</span><span class="tuareg-font-lock-operator">:</span> <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until_handler</span><span class="tuareg-font-lock-operator">':</span>
        <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until_handler</span><span class="tuareg-font-lock-operator">:</span>
        <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until_handler_match</span><span class="tuareg-font-lock-operator">':</span>
        <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_until_handler_match</span><span class="tuareg-font-lock-operator">:</span>
        <span class="type">Rml_types.pause_kind </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> bool<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span>
          <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_control</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_control</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_control_match</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">('</span><span class="type">b </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_control_match</span><span class="tuareg-font-lock-operator">:</span>
        <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>b <span class="tuareg-font-lock-operator">-&gt;</span> bool<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_control_conf</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_when</span><span class="tuareg-font-lock-operator">':</span> <span class="tuareg-font-lock-operator">('</span><span class="type">a</span><span class="tuareg-font-lock-operator">,</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">b</span><span class="tuareg-font-lock-operator">)</span><span class="type"> R.event </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_when</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span>unit <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">('</span>a<span class="tuareg-font-lock-operator">,</span> <span class="tuareg-font-lock-operator">'</span>b<span class="tuareg-font-lock-operator">)</span> <span class="type">R</span>.event<span class="tuareg-font-lock-operator">)</span> <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr <span class="tuareg-font-lock-operator">-&gt;</span> <span class="tuareg-font-lock-operator">'</span>c expr
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_when_conf</span><span class="tuareg-font-lock-operator">:</span> <span class="type">event_cfg_gen </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">c expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_if</span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">unit </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> bool</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">'</span><span class="type">a expr</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_par_n </span><span class="tuareg-font-lock-operator">:</span> <span class="type">unit expr list </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>
<span class="comment">(*
    val rml_seq_n : expr list -&gt; expr
*)</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_newclock </span><span class="tuareg-font-lock-operator">:</span> <span class="tuareg-font-lock-operator">(</span><span class="type">int </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int</span><span class="tuareg-font-lock-operator">*</span><span class="type"> int</span><span class="tuareg-font-lock-operator">)</span><span class="type"> option </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> int option </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> </span><span class="tuareg-font-lock-operator">(</span><span class="type">clock_expr </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span><span class="tuareg-font-lock-operator">)</span><span class="type"> </span><span class="tuareg-font-lock-operator">-&gt;</span><span class="type"> unit expr</span>

    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_top_clock </span><span class="tuareg-font-lock-operator">:</span> <span class="type">clock_expr</span>
    <span class="tuareg-font-lock-governing">val</span> <span class="variable-name">rml_base_clock </span><span class="tuareg-font-lock-operator">:</span> <span class="type">clock_expr</span>
  <span class="tuareg-font-lock-governing">end</span>



</pre>
  </body>
</html>
