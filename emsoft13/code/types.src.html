    <pre>
<span class="comment-delimiter">(***************************************************************)</span>
<span class="comment-delimiter">(*                        </span><span class="comment">Reactive Asco                        </span><span class="comment-delimiter">*)</span>
<span class="comment-delimiter">(*                                                             *)</span>
<span class="comment-delimiter">(*                                                             *)</span>
<span class="comment-delimiter">(* </span><span class="comment">Type definitions for Asco                                   </span><span class="comment-delimiter">*)</span>
<span class="comment-delimiter">(***************************************************************)</span>

<span class="comment-delimiter">(* </span><span class="comment">Alias for readability </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> delay = float
<span class="type">type</span> label = int
<span class="type">type</span> tempo = float
<span class="type">type</span> point = float

<span class="comment-delimiter">(* </span><span class="comment">Atomic action </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> action =
  <span class="constant">|</span> <span class="function-name">Message</span> <span class="type">of</span> string  <span class="comment-delimiter">(* </span><span class="comment">Max/MSP control message </span><span class="comment-delimiter">*)</span>
  <span class="constant">|</span> <span class="function-name">Signal</span> <span class="type">of</span> (unit,unit list) event <span class="comment-delimiter">(* </span><span class="comment">RML signal </span><span class="comment-delimiter">*)</span>

<span class="comment-delimiter">(* </span><span class="comment">Synchronization strategies </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> sync = <span class="function-name">Tight</span> <span class="constant">|</span> <span class="function-name">Loose</span>

<span class="comment-delimiter">(* </span><span class="comment">Error handling strategies </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> err = <span class="function-name">Local</span> <span class="constant">|</span> <span class="function-name">Global</span> <span class="constant">|</span> <span class="function-name">Causal</span> <span class="constant">|</span> <span class="function-name">Partial</span>

<span class="type">type</span> sequence =  (delay * asco_event) list

<span class="comment-delimiter">(* </span><span class="comment">Generic asco event </span><span class="comment-delimiter">*)</span>
<span class="type">and</span> asco_event =
  <span class="constant">|</span> <span class="function-name">Group</span> <span class="type">of</span> group
  <span class="constant">|</span> <span class="function-name">Action</span> <span class="type">of</span> action
  <span class="constant">|</span> <span class="function-name">Until</span> <span class="type">of</span> asco_until

<span class="comment-delimiter">(* </span><span class="comment">Asco group </span><span class="comment-delimiter">*)</span>
<span class="type">and</span> group =
      { group_synchro : sync;
        group_error : err;
        group_seq : sequence }

<span class="comment-delimiter">(* </span><span class="comment">Preemption construct </span><span class="comment-delimiter">*)</span>
<span class="type">and</span> asco_until =
    { until_seq : sequence;
      until_event : label; }

<span class="comment-delimiter">(* </span><span class="comment">Electronic score event </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> score_event =
    { event : label;
      seq : sequence; }

<span class="comment-delimiter">(* </span><span class="comment">Instrumental score, play the role of function E </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> instr_score = delay array

<span class="comment-delimiter">(* </span><span class="comment">Electronic score </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> score = score_event list * instr_score

<span class="comment-delimiter">(* </span><span class="comment">Instrumental event </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> instr_event =
    { index : label;
      bps : float; }

<span class="comment-delimiter">(* </span><span class="comment">Status for an event </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> status = <span class="function-name">Detected</span> <span class="constant">|</span> <span class="function-name">Missed</span> <span class="type">of</span> label

<span class="comment-delimiter">(* </span><span class="comment">Table of signals for instrumental events </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> events = (status, status list) event array

<span class="comment-delimiter">(* </span><span class="comment">Performance element </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> perf_elem = label * delay * action

<span class="comment-delimiter">(* </span><span class="comment">Simulation of the listening machine </span><span class="comment-delimiter">*)</span>
<span class="type">type</span> simulation = (label * delay * tempo) list
</pre>
